/Users/stlee/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

======================================================================
⚡ Early Stopping Performance Test
======================================================================

동일한 매치를 Early Stopping ON/OFF로 실행하여 성능 비교

======================================================================
🚀 Test 1: Early Stopping ENABLED (threshold=0.85)
======================================================================

============================================================
Match Simulator V3: Manchester City vs Sheffield United
============================================================

Phase 1: AI 시나리오 생성...
  ✅ 시나리오 생성 완료: 6개 이벤트

--- Iteration 1/5 ---
Phase 2: Statistical Engine 시뮬레이션...
  최종 스코어: 4-0
  서사 일치율: 33%
Phase 3: AI 분석/조정...
  AI 상태: needs_adjustment
Phase 4: 수렴 판단...
  수렴 점수: 0.33
  수렴 여부: ❌ No
Phase 5: 시나리오 조정...
  ✅ 시나리오 조정 완료

--- Iteration 2/5 ---
Phase 2: Statistical Engine 시뮬레이션...
  최종 스코어: 8-0
  서사 일치율: 17%
Phase 3: AI 분석/조정...
  AI 상태: needs_adjustment
Phase 4: 수렴 판단...
  수렴 점수: 0.20
  수렴 여부: ❌ No
Phase 5: 시나리오 조정...
  ✅ 시나리오 조정 완료

--- Iteration 3/5 ---
Phase 2: Statistical Engine 시뮬레이션...
  최종 스코어: 3-1
  서사 일치율: 33%
Phase 3: AI 분석/조정...
  AI 상태: needs_adjustment
Phase 4: 수렴 판단...
  수렴 점수: 0.36
  수렴 여부: ❌ No
Phase 5: 시나리오 조정...
  ✅ 시나리오 조정 완료

--- Iteration 4/5 ---
Phase 2: Statistical Engine 시뮬레이션...
  최종 스코어: 2-2
  서사 일치율: 0%
Phase 3: AI 분석/조정...
  AI 상태: needs_adjustment
Phase 4: 수렴 판단...
  수렴 점수: 0.24
  수렴 여부: ❌ No
Phase 5: 시나리오 조정...
  ✅ 시나리오 조정 완료

--- Iteration 5/5 ---
Phase 2: Statistical Engine 시뮬레이션...
  최종 스코어: 7-0
  서사 일치율: 17%
Phase 3: AI 분석/조정...
  AI 상태: converged
Phase 4: 수렴 판단...
  수렴 점수: 0.61
  수렴 여부: ✅ Yes

✅ 수렴 완료! (Iteration 5)

Phase 7: 최종 리포트 생성...
  ✅ 리포트 생성 완료 (1845 문자)

============================================================
✅ 시뮬레이션 완료!
============================================================


📊 결과:
  최종 스코어: 7-0
  수렴 여부: True
  Early Stopped: True
  반복 횟수: 5/5
  가중 점수: 0.61
  수행 시간: 263.6초
  이유: 🚀 Early Stop: AI 수렴 완료 + 합리적 점수 (0.61)

======================================================================
❌ Test 2: Early Stopping DISABLED (threshold=1.0)
======================================================================

============================================================
Match Simulator V3: Manchester City vs Sheffield United
============================================================

Phase 1: AI 시나리오 생성...
  ✅ 시나리오 생성 완료: 5개 이벤트

--- Iteration 1/5 ---
Phase 2: Statistical Engine 시뮬레이션...
  최종 스코어: 3-1
  서사 일치율: 60%
Phase 3: AI 분석/조정...
  AI 상태: converged
Phase 4: 수렴 판단...
  수렴 점수: 0.81
  수렴 여부: ✅ Yes

✅ 수렴 완료! (Iteration 1)

Phase 7: 최종 리포트 생성...
  ✅ 리포트 생성 완료 (1695 문자)

============================================================
✅ 시뮬레이션 완료!
============================================================


📊 결과:
  최종 스코어: 3-1
  수렴 여부: True
  Early Stopped: False
  반복 횟수: 1/5
  가중 점수: 0.81
  수행 시간: 100.0초
  이유: 서사 일치율 목표 달성 (점수: 1.00)

======================================================================
📊 Performance Comparison
======================================================================

Metric                    WITH Early Stop      WITHOUT Early Stop  
----------------------------------------------------------------------
Iterations                5                    1                   
Time (seconds)            263.6                100.0               
Early Stopped             True                 False               
Weighted Score            0.61                 0.81                

======================================================================
✨ Improvement
======================================================================
  Iteration 변화: 동일 (5)
  시간 변화: 미미 (차이 163.5s)

======================================================================
🎯 Conclusion
======================================================================

⚠️  두 테스트 모두 동일한 iteration에서 종료되었습니다.
   - Early stopping과 일반 수렴이 같은 시점에 발생
