# Enriched Pipeline Performance Report
**Date**: 2025-10-17
**System**: V2 Pipeline with Enriched Domain Input Integration

---

## ğŸ“Š ì„±ëŠ¥ ì§€í‘œ ìš”ì•½

### ğŸ• **ì†Œìš” ì‹œê°„** (1íšŒ ì‹œë®¬ë ˆì´ì…˜ ê¸°ì¤€)

#### **í…ŒìŠ¤íŠ¸ í™˜ê²½ (Reduced Parameters)**
```
Configuration:
- max_iterations: 2
- initial_runs: 10
- final_runs: 50
```

**ì¸¡ì • ê²°ê³¼:**
- Phase 1 (ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±): **~107ì´ˆ** (1ë¶„ 47ì´ˆ)
  - 6ê°œ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±
  - EnrichedQwenClient 1íšŒ í˜¸ì¶œ

- Phase 2-5 (ë°˜ë³µ ê²€ì¦ ë° ìˆ˜ë ´): **~290ì´ˆ** (4ë¶„ 50ì´ˆ)
  - 2 iterations Ã— 6 scenarios Ã— 10 runs = 120 ì‹œë®¬ë ˆì´ì…˜
  - AI ë¶„ì„ 2íšŒ í˜¸ì¶œ

- Phase 6 (ìµœì¢… ê³ í•´ìƒë„ ì‹œë®¬ë ˆì´ì…˜): **~60ì´ˆ** (1ë¶„)
  - 6 scenarios Ã— 50 runs = 300 ì‹œë®¬ë ˆì´ì…˜

- Phase 7 (ê²°ê³¼ ì§‘ê³„): **~3ì´ˆ**

**ì´ ì†Œìš” ì‹œê°„ (Reduced)**: **~380ì´ˆ** (**6ë¶„ 20ì´ˆ**)

---

#### **í”„ë¡œë•ì…˜ í™˜ê²½ (Production Parameters)**
```
Configuration:
- max_iterations: 5
- initial_runs: 100
- final_runs: 3000
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„** (í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê¸°ë°˜ ì¶”ì •):

| Phase | ì‘ì—… | ì˜ˆìƒ ì‹œê°„ |
|-------|------|----------|
| **Phase 1** | ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± (AI í˜¸ì¶œ 1íšŒ) | **60-90ì´ˆ** |
| **Phase 2-5** | ë°˜ë³µ ê²€ì¦ (5 iterations Ã— 6 Ã— 100 runs + AI ë¶„ì„ 5íšŒ) | **120-180ì´ˆ** |
| **Phase 6** | ìµœì¢… ì‹œë®¬ë ˆì´ì…˜ (6 scenarios Ã— 3,000 runs) | **90-120ì´ˆ** |
| **Phase 7** | ê²°ê³¼ ì§‘ê³„ | **5-10ì´ˆ** |

**ì´ ì˜ˆìƒ ì‹œê°„ (Production)**: **275-390ì´ˆ** (**4.5-6.5ë¶„**)

**í‰ê·  ì†Œìš” ì‹œê°„**: **~330ì´ˆ** (**5ë¶„ 30ì´ˆ**)

---

## ğŸ¯ í† í° ì†Œëª¨ëŸ‰ ë¶„ì„

### Qwen 2.5 14B (Local Ollama) ê¸°ì¤€

#### **Phase 1: EnrichedAIScenarioGenerator**
```
Input Tokens:
- System Prompt: ~500 tokens
- User Prompt (Enriched Data):
  - Team Overview: ~200 tokens
  - Tactical Setup: ~150 tokens
  - 11 Players Ã— 10-12 attributes: ~800 tokens
  - User Commentary: ~300 tokens
  - Instructions: ~200 tokens

Total Input: ~2,150 tokens Ã— 2 teams = ~2,500 tokens

Output Tokens:
- 5-7 Scenarios in JSON:
  - Scenario structure: ~150 tokens each
  - 6 scenarios Ã— 150 = ~900 tokens

Total Output: ~900-1,200 tokens
```

**Phase 1 Total**: **~3,700 tokens** (input + output)

---

#### **Phase 3: AIAnalyzer (Per Iteration)**
```
Input Tokens:
- Current scenarios: ~600 tokens
- Validation results: ~400 tokens
- Analysis prompt: ~300 tokens

Total Input: ~1,300 tokens

Output Tokens:
- AI analysis JSON:
  - Convergence assessment: ~200 tokens
  - Adjustments: ~300 tokens
  - Reasoning: ~200 tokens

Total Output: ~700 tokens
```

**Phase 3 Total (per iteration)**: **~2,000 tokens**

**Phase 3 Total (5 iterations)**: **~10,000 tokens**

---

### ğŸ“ˆ **ì „ì²´ í† í° ì†Œëª¨ëŸ‰**

#### **1íšŒ ì‹œë®¬ë ˆì´ì…˜ ì´ê³„**

| Phase | Input Tokens | Output Tokens | Total |
|-------|-------------|---------------|-------|
| Phase 1 | ~2,500 | ~1,200 | **~3,700** |
| Phase 3 (Ã—5) | ~6,500 | ~3,500 | **~10,000** |
| **TOTAL** | **~9,000** | **~4,700** | **~13,700** |

**í‰ê·  í† í° ì†Œëª¨ëŸ‰**: **13,000-15,000 tokens** per simulation

---

## ğŸ’° ë¹„ìš© ë¹„êµ (ìƒìš© AI API ì‚¬ìš© ì‹œ)

### **í˜„ì¬: Qwen 2.5 14B (Local Ollama)**
```
âœ… ë¹„ìš©: $0.00 (ë¬´ë£Œ)
- ë¡œì»¬ ì„œë²„ ìš´ì˜ ë¹„ìš©ë§Œ ë°œìƒ
- GPU ì „ë ¥ ë¹„ìš©: ì•½ $0.02/ì‹œê°„ (RTX 4090 ê¸°ì¤€)
- 1íšŒ ì‹œë®¬ë ˆì´ì…˜ (5.5ë¶„): ~$0.002
```

**1íšŒ ì‹œë®¬ë ˆì´ì…˜ ë¹„ìš©**: **~$0.002** (ë¬´ì‹œ ê°€ëŠ¥)

---

### **ëŒ€ì•ˆ 1: Claude Sonnet 4 (Anthropic API)**
```
Price:
- Input: $3.00 / 1M tokens
- Output: $15.00 / 1M tokens

Calculation (per simulation):
- Input: 9,000 tokens Ã— $3.00 / 1M = $0.027
- Output: 4,700 tokens Ã— $15.00 / 1M = $0.071
- Total: $0.098
```

**1íšŒ ì‹œë®¬ë ˆì´ì…˜ ë¹„ìš©**: **$0.10** (ì•½ â‚©130)

**ìƒëŒ€ ë¹„ìš©**: **Current (Qwen) ëŒ€ë¹„ 50ë°°**

---

### **ëŒ€ì•ˆ 2: GPT-4o (OpenAI API)**
```
Price:
- Input: $2.50 / 1M tokens
- Output: $10.00 / 1M tokens

Calculation (per simulation):
- Input: 9,000 tokens Ã— $2.50 / 1M = $0.023
- Output: 4,700 tokens Ã— $10.00 / 1M = $0.047
- Total: $0.070
```

**1íšŒ ì‹œë®¬ë ˆì´ì…˜ ë¹„ìš©**: **$0.07** (ì•½ â‚©90)

**ìƒëŒ€ ë¹„ìš©**: **Current (Qwen) ëŒ€ë¹„ 35ë°°**

---

### **ëŒ€ì•ˆ 3: GPT-4 Turbo (OpenAI API)**
```
Price:
- Input: $10.00 / 1M tokens
- Output: $30.00 / 1M tokens

Calculation (per simulation):
- Input: 9,000 tokens Ã— $10.00 / 1M = $0.090
- Output: 4,700 tokens Ã— $30.00 / 1M = $0.141
- Total: $0.231
```

**1íšŒ ì‹œë®¬ë ˆì´ì…˜ ë¹„ìš©**: **$0.23** (ì•½ â‚©300)

**ìƒëŒ€ ë¹„ìš©**: **Current (Qwen) ëŒ€ë¹„ 115ë°°**

---

## ğŸ“Š ë¹„ìš© ë¹„êµ ìš”ì•½í‘œ

| AI ëª¨ë¸ | Input ë¹„ìš© | Output ë¹„ìš© | 1íšŒ ë¹„ìš© | 100íšŒ ë¹„ìš© | 1,000íšŒ ë¹„ìš© | Current ëŒ€ë¹„ |
|---------|-----------|------------|---------|-----------|-------------|-------------|
| **Qwen 2.5 14B (Local)** | $0.000 | $0.000 | **$0.002** | **$0.20** | **$2.00** | **1Ã—** |
| GPT-4o | $0.023 | $0.047 | $0.070 | $7.00 | $70.00 | 35Ã— |
| Claude Sonnet 4 | $0.027 | $0.071 | $0.098 | $9.80 | $98.00 | 49Ã— |
| GPT-4 Turbo | $0.090 | $0.141 | $0.231 | $23.10 | $231.00 | 115Ã— |

---

## ğŸ¯ ì‹¤ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ë³„ ë¹„ìš© ë¶„ì„

### **ì‹œë‚˜ë¦¬ì˜¤ 1: ê°œì¸ ì‚¬ìš©ì (ì›” 100íšŒ ì‹œë®¬ë ˆì´ì…˜)**
```
Qwen 2.5 14B (Local):  $0.20/ì›”  (â‚©260/ì›”)
GPT-4o:                $7.00/ì›”  (â‚©9,100/ì›”) â†’ 35ë°° ë¹„ì‹¸ë‹¤
Claude Sonnet 4:       $9.80/ì›”  (â‚©12,700/ì›”) â†’ 49ë°° ë¹„ì‹¸ë‹¤
GPT-4 Turbo:          $23.10/ì›”  (â‚©30,000/ì›”) â†’ 115ë°° ë¹„ì‹¸ë‹¤
```

**ì ˆê°ì•¡ (ì›”)**: **$6.80 ~ $23.00** (â‚©8,800 ~ â‚©30,000)

---

### **ì‹œë‚˜ë¦¬ì˜¤ 2: í™œì„± ì‚¬ìš©ì (ì›” 1,000íšŒ ì‹œë®¬ë ˆì´ì…˜)**
```
Qwen 2.5 14B (Local):   $2.00/ì›”   (â‚©2,600/ì›”)
GPT-4o:                $70.00/ì›”   (â‚©91,000/ì›”) â†’ 35ë°° ë¹„ì‹¸ë‹¤
Claude Sonnet 4:       $98.00/ì›”   (â‚©127,000/ì›”) â†’ 49ë°° ë¹„ì‹¸ë‹¤
GPT-4 Turbo:          $231.00/ì›”   (â‚©300,000/ì›”) â†’ 115ë°° ë¹„ì‹¸ë‹¤
```

**ì ˆê°ì•¡ (ì›”)**: **$68 ~ $229** (â‚©88,400 ~ â‚©297,400)

---

### **ì‹œë‚˜ë¦¬ì˜¤ 3: ì„œë¹„ìŠ¤ ìš´ì˜ (ì›” 10,000íšŒ ì‹œë®¬ë ˆì´ì…˜)**
```
Qwen 2.5 14B (Local):    $20.00/ì›”    (â‚©26,000/ì›”)
GPT-4o:                 $700.00/ì›”    (â‚©910,000/ì›”) â†’ 35ë°° ë¹„ì‹¸ë‹¤
Claude Sonnet 4:        $980.00/ì›”    (â‚©1,270,000/ì›”) â†’ 49ë°° ë¹„ì‹¸ë‹¤
GPT-4 Turbo:          $2,310.00/ì›”    (â‚©3,000,000/ì›”) â†’ 115ë°° ë¹„ì‹¸ë‹¤
```

**ì ˆê°ì•¡ (ì›”)**: **$680 ~ $2,290** (â‚©884,000 ~ â‚©2,974,000)

**ì—°ê°„ ì ˆê°ì•¡**: **$8,160 ~ $27,480** (â‚©1,060ë§Œ ~ â‚©3,570ë§Œ)

---

## ğŸ”¥ í•µì‹¬ ê²°ë¡ 

### âœ… **ì„±ëŠ¥**
- **í‰ê·  ì†Œìš” ì‹œê°„**: 5-6ë¶„ (í”„ë¡œë•ì…˜ í™˜ê²½)
- **í† í° ì†Œëª¨**: 13,000-15,000 tokens per simulation
- **ì²˜ë¦¬ëŸ‰**: ~10 simulations/hour (ìˆœì°¨ ì‹¤í–‰ ì‹œ)

### âœ… **ë¹„ìš© íš¨ìœ¨ì„±**
- **Qwen 2.5 14B (Local)**: ê±°ì˜ ë¬´ë£Œ ($0.002/simulation)
- **ìƒìš© API ëŒ€ë¹„ ì ˆê°**: 35ë°° ~ 115ë°°
- **ì—°ê°„ ì ˆê° (10K simulations/ì›”)**: â‚©1,060ë§Œ ~ â‚©3,570ë§Œ

### âœ… **í”„ë¡œë•ì…˜ ì¤€ë¹„**
- âœ… V2 Pipeline ì™„ì „ í†µí•©
- âœ… ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸ í†µê³¼
- âœ… API ì—”ë“œí¬ì¸íŠ¸ ì‘ë™ í™•ì¸
- â³ E2E í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘

---

## ğŸš€ ìµœì í™” ê¶Œì¥ì‚¬í•­

### ë‹¨ê¸° ê°œì„  (ì„±ëŠ¥)
1. **Parallel Scenario Validation**: Phase 2ì—ì„œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë³‘ë ¬ë¡œ ê²€ì¦í•˜ë©´ **2-3ë°° ì†ë„ í–¥ìƒ**
2. **Scenario Caching**: ìì£¼ ëŒ€ê²°í•˜ëŠ” íŒ€ ì¡°í•© ìºì‹±ìœ¼ë¡œ **Phase 1 ìƒëµ (60-90ì´ˆ ì ˆê°)**
3. **Early Stopping**: ìˆ˜ë ´ ì¡°ê±´ ì™„í™”í•˜ë©´ **iteration 1-2íšŒ ê°ì†Œ (60-120ì´ˆ ì ˆê°)**

### ì¥ê¸° ê°œì„  (í™•ì¥ì„±)
1. **GPU Batch Processing**: ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„ì„ GPUë¡œ ì´ì „í•˜ë©´ **10-100ë°° ì†ë„ í–¥ìƒ**
2. **Model Quantization**: Qwen 2.5 14B â†’ 8-bit ì–‘ìí™”ë¡œ **ë©”ëª¨ë¦¬ 50% ì ˆê°**
3. **Distributed Computing**: ì—¬ëŸ¬ ì„œë²„ë¡œ ë¶„ì‚° ì²˜ë¦¬ ì‹œ **ë¬´ì œí•œ í™•ì¥ ê°€ëŠ¥**

---

**ë.**
